<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>진주에서 시작된 인권운동 "형평운동"</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&family=Gowun+Dodum&family=Pretendard:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#F9F7F1; --card:#fff; --accent:#5D7D62; --accentL:#E8EFE9;
      --text:#2C2C2C; --muted:#666; --shadow:0 8px 24px rgba(0,0,0,.06);
      --radius:16px; --maxw:720px; --playerH:92px; --line:rgba(0,0,0,.10);
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:Pretendard,system-ui}
    .container{max-width:var(--maxw);margin:0 auto;padding:34px 16px calc(var(--playerH) + 28px)}
    header{text-align:center;margin-bottom:18px}
    h1{margin:0;font-family:"Gowun Dodum";color:var(--accent);font-size:1.75rem}
    .sub{margin-top:6px;color:var(--muted);font-size:.95rem}
    .card{background:var(--card);border-radius:var(--radius);padding:20px;margin-bottom:16px;box-shadow:var(--shadow);border:1px solid rgba(0,0,0,.04)}
    .toc-title{font-family:"Gowun Dodum";color:var(--accent);font-weight:700;margin:0 0 10px}
    .toc-hint{margin:0 0 14px;color:#555;font-size:.98rem}

    .toc-list{display:grid;gap:10px}
    .ep-btn{
      width:100%;text-align:left;border:2px solid #EEE;background:#FFF;padding:14px;border-radius:14px;
      cursor:pointer;transition:.15s;display:flex;gap:10px;align-items:flex-start
    }
    .ep-btn:hover{border-color:var(--accent)}
    .ep-btn.active{background:var(--accentL);border-color:var(--accent);color:#2f4a33;font-weight:700}
    .dot{width:10px;height:10px;border-radius:50%;background:#C94A3B;margin-top:6px;flex:0 0 auto}
    .ep-title{margin:0;font-size:1.02rem;line-height:1.35;letter-spacing:-.1px;font-weight:700}

    #title{font-family:"Gowun Dodum";font-size:1.55rem;margin:0 0 10px;line-height:1.25;display:none}
    .content-body{font-family:"Gowun Batang";font-size:1.12rem;line-height:1.85;word-break:keep-all;text-align:justify}
    .content-body p{margin:0 0 14px}
    .content-body p:last-child{margin-bottom:0}

    .player{
      position:fixed;left:0;right:0;bottom:0;padding:10px 12px calc(10px + env(safe-area-inset-bottom));
      background:rgba(255,255,255,.92);border-top:1px solid var(--line);box-shadow:0 -10px 26px rgba(0,0,0,.08);
      z-index:9999;backdrop-filter:blur(10px)
    }
    .player-inner{max-width:var(--maxw);margin:0 auto;display:flex;gap:10px;align-items:center}
    .btn{
      background:white;border:2px solid #EEE;border-radius:20px;padding:10px 14px;font-size:.95rem;cursor:pointer;color:#555;
      transition:.2s;display:flex;align-items:center;gap:6px;min-width:110px;justify-content:center;font-family:Pretendard
    }
    .btn:hover{border-color:var(--accent);background:#FAFAFA}
    .btn:disabled{opacity:.55;cursor:not-allowed}
    .track{flex:1 1 auto;display:flex;flex-direction:column;gap:6px;min-width:0}
    .track-title{font-size:.85rem;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    input[type="range"]{width:100%;accent-color:var(--accent)}
    .time{display:flex;justify-content:space-between;font-size:.78rem;color:#777;margin-top:-2px}

    /* JS가 죽어도 최소 안내가 보이게 */
    .fallback{color:#666;margin:0}
  </style>
</head>

<body>
  <div class="container">
    <header>
      <h1>🌱 형평운동 읽기</h1>
      <div class="sub">목차에서 편을 고르면 본문이 열립니다.</div>
    </header>

    <div class="card">
      <div class="toc-title">목차</div>
      <p class="toc-hint">읽을 글의 제목을 클릭해 주세요.</p>

      <div class="toc-list" id="toc">
        <button class="ep-btn" data-ep="ep1" data-audio="https://drive.google.com/uc?export=download&id=1lBq7uXz4i0bwdlYjwtHu8ItSOsXt63Va">
          <span class="dot"></span><p class="ep-title">형평운동 1부: 이름 위에 찍힌 '붉은 점'의 공포</p>
        </button>

        <button class="ep-btn" data-ep="ep2" data-audio="https://drive.google.com/uc?export=download&id=18MKPEk4EW0sMJi30qpLwJqMVRtMmKApW">
          <span class="dot"></span><p class="ep-title">형평운동 2부: "고기 안 팝니다!" 백정들의 반격과 슬픈 싸움</p>
        </button>

        <button class="ep-btn" data-ep="ep3" data-audio="https://drive.google.com/uc?export=download&id=1suOt1QEq8Xn-7jHbter7IrX7ukqlQLGM">
          <span class="dot"></span><p class="ep-title">형평운동 3부: 국경을 넘은 악수, 그리고 남겨진 유산</p>
        </button>
      </div>
    </div>

    <div class="card">
      <h2 id="title"></h2>
      <div id="content" class="content-body">
        <p class="fallback">목차에서 편을 선택해 주세요.</p>
      </div>
    </div>
  </div>

  <div class="player" role="region" aria-label="오디오 플레이어">
    <div class="player-inner">
      <button class="btn" id="playBtn" disabled><span>🔊</span> 재생</button>
      <div class="track">
        <div class="track-title" id="trackTitle">편을 선택하면 오디오가 연결됩니다</div>
        <input type="range" id="seek" min="0" max="1000" value="0" disabled />
        <div class="time">
          <span id="cur">00:00</span>
          <span id="dur">00:00</span>
        </div>
      </div>
      <button class="btn" id="stopBtn" disabled><span>⏹</span> 정지</button>
      <audio id="audio" preload="metadata" playsinline></audio>
    </div>
  </div>

  <!-- ✅ 본문은 JS 문자열이 아니라 template로 보관(따옴표 깨져도 안전) -->
  <template id="ep1">
    <p>혹시 여러분의 이름 옆에 빨간 점이 찍혀 있다면 기분이 어떨까요? 그것도 학교에 입학하거나 관공서에 서류를 낼 때마다 그 점 때문에 "너는 자격이 없어"라며 거절당한다면 말이죠. 일제강점기 시절, 겉으로는 신분제가 사라졌다고 했지만, 소를 잡는 일을 하던 '백정'들의 호적에는 여전히 선명한 '붉은 점(적점)'이 찍혀 있었습니다. 심지어 직업란에는 짐승을 잡는 놈이라는 뜻의 '도한(屠漢)'이라는 모욕적인 글자가 적혀 있어, 누가 봐도 차별받는 신분임을 알 수 있게 했습니다.</p>
    <p>1923년 4월, 경상남도 진주에서 일어난 '형평운동'은 바로 이 지독한 차별을 견디다 못한 사람들의 절규에서 시작되었습니다. 당시 진주의 돈 많은 백정이었던 이학찬은 아들을 학교에 보내려 했지만, 단지 백정의 아들이라는 이유만으로 입학을 거절당했습니다. 아무리 돈이 많아도 사람 대접을 받지 못하는 현실에 분노한 그는 깨어있는 양반 지식인 강상호 등과 손을 잡고 "우리도 똑같은 사람이다!"라고 외치기 시작했습니다.</p>
    <p>이들이 만든 단체의 이름은 '형평사'였습니다. '형평(衡平)'은 저울처럼 평등하다는 뜻입니다. 저울의 눈금은 물건이 무엇이든 무게에 따라 똑같이 움직이는 것처럼, 사람도 신분이나 직업에 상관없이 똑같은 존엄성을 가져야 한다는 뜻을 담고 있습니다. 오늘날 우리에게는 너무나 당연한 '평등'이라는 가치가, 100년 전 진주에서는 목숨을 걸고 찾아야 했던 간절한 소원이었습니다.</p>
    <p>형평운동은 단순한 불만 표출이 아니었습니다. 그것은 "저울처럼 공평한 세상을 만들자"는 한국 최초의 인권 운동이자, 인간의 존엄을 되찾기 위한 눈물겨운 투쟁이었습니다. 이름 옆의 붉은 점을 지우기 위해 시작된 이 운동은 이후 전국의 백정들에게 들불처럼 번져나가, 한반도 역사상 가장 뜨거운 신분 해방 운동으로 기록되게 됩니다.</p>
  </template>

  <template id="ep2">
    <p>형평운동이 시작되자 백정들은 단순히 "차별하지 마세요"라고 호소하는 데 그치지 않았습니다. 그들은 자신들만이 가진 강력한 무기를 꺼내 들었습니다. 바로 '고기'였습니다. 마을 잔치나 제사에 고기가 없으면 아무것도 할 수 없던 시절, 사람들이 형평사 운동을 방해하거나 백정을 무시하면 그들은 단결하여 "오늘부터 고기를 팔지 않겠다!"라며 동맹 파업을 선언했습니다. 고기 유통을 꽉 쥐고 있던 그들의 반격에 사람들은 당황할 수밖에 없었습니다.</p>
    <p>하지만 형평운동의 앞길에는 예상치 못한 거대한 적이 기다리고 있었습니다. 놀랍게도 그들은 일본 경찰도, 부자 양반도 아닌 바로 이웃의 평범한 '농민'들이었습니다. 당시 가난했던 농민들은 "나는 그래도 백정보다는 낫다"라는 생각으로 힘든 삶을 위로받곤 했습니다. 그런데 천하게 여겼던 백정들이 "우리도 평등하다"며 목소리를 높이자, 농민들은 자신의 지위가 위협받는다고 느껴 격렬하게 반대하기 시작했습니다.</p>
    <p>이를 '반(反)형평운동'이라고 부르는데, 그 갈등은 생각보다 훨씬 심각했습니다. 1925년 경북 예천에서는 "백정 주제에 건방지다"는 말 한마디가 불씨가 되어, 수천 명의 농민이 형평사 건물을 부수고 사람들을 때리는 폭력 사태까지 벌어졌습니다. 가장 낮은 곳에 있는 사람들끼리 서로를 이해하고 돕기는커녕, 오히려 차별하고 미워하며 싸우게 된 이 상황은 우리 역사 속의 뼈아픈 비극 중 하나입니다.</p>
    <p>결국 형평운동은 단순히 제도를 바꾸는 싸움이 아니었습니다. 내 마음속 깊이 박혀 있는 '차별의식'과 싸우는 것이 훨씬 더 어렵다는 것을 보여주었기 때문입니다. 을과 을의 전쟁이라 불렸던 그 슬픈 싸움은, 오늘날 우리 안에도 "나는 쟤보다는 낫지"라며 누군가를 무시하는 마음이 숨어 있지는 않은지 되돌아보게 만듭니다.</p>
  </template>

  <template id="ep3">
    <p>형평운동 포스터에는 한 남자가 사가모(사각 모자)를 쓰고 저울을 번쩍 들어 올린 그림이 그려져 있습니다. 재미있는 사실은 이 모습이 현재 대한민국 대법원이나 법원 앞에 서 있는 '정의의 여신상'이 든 저울과 그 의미가 매우 닮아 있다는 점입니다. 100년 전 진주에서 백정들이 꿈꿨던 '치우치지 않는 공정함'은 이제 대한민국의 법과 정의를 상징하는 로고가 되어 우리 곁에 남아 있습니다.</p>
    <p>또한 형평운동은 우리끼리만 외친 고독한 외침이 아니었습니다. 바다 건너 일본에서도 차별받던 천민 계급들이 만든 '수평사'라는 단체가 있었습니다. 조선의 형평사와 일본의 수평사는 서로 "우리는 국경을 넘어 연결되어 있다"라며 끈끈한 우정을 나눴습니다. 서로 축하 편지를 보내고 행사에 참여하며, 차별 없는 세상을 만들기 위해 나라를 초월하여 연대했습니다. 이는 당시로써는 보기 드문 국제적인 인권 운동의 사례였습니다.</p>
    <p>물론 형평사 내부에서도 갈등은 있었습니다. "우리의 고향인 진주에서 인권과 교육에 집중하자"는 파와 "서울로 본부를 옮겨 경제적인 투쟁을 해야 한다"는 파가 나뉘어 치열하게 논쟁하기도 했습니다. 하지만 이런 갈등조차도 더 나은 세상을 만들기 위한 치열한 고민의 과정이었습니다. 비록 일제의 탄압과 내부 분열로 운동은 점차 약해졌지만, 그들이 뿌린 평등의 씨앗은 결코 사라지지 않았습니다.</p>
    <p>오늘날 우리 주변에 '백정'이라는 신분은 사라졌습니다. 하지만 다문화 가정, 장애인, 외국인 노동자 등 우리 사회에는 여전히 보이지 않는 '붉은 점'을 가진 이웃들이 살아가고 있습니다. 100년 전 진주에서 "사람은 누구나 저울처럼 평등하다"라고 외쳤던 그들의 목소리는, 지금 우리가 혐오와 차별 대신 존중과 배려를 선택해야 한다고 조용히, 그러나 단호하게 가르쳐주고 있습니다.</p>
  </template>

<script>
(() => {
  const toc = document.getElementById('toc');
  const titleEl = document.getElementById('title');
  const contentEl = document.getElementById('content');

  const audio = document.getElementById('audio');
  const playBtn = document.getElementById('playBtn');
  const stopBtn = document.getElementById('stopBtn');
  const trackTitle = document.getElementById('trackTitle');
  const seek = document.getElementById('seek');
  const cur = document.getElementById('cur');
  const dur = document.getElementById('dur');

  let currentEpId = null;
  let userSeeking = false;

  function fmt(sec){
    if (!isFinite(sec)) return "00:00";
    sec = Math.max(0, Math.floor(sec));
    const m = String(Math.floor(sec/60)).padStart(2,'0');
    const s = String(sec%60).padStart(2,'0');
    return `${m}:${s}`;
  }

  function setActiveButton(epId){
    [...toc.querySelectorAll('.ep-btn')].forEach(b => {
      b.classList.toggle('active', b.dataset.ep === epId);
    });
  }

  function openEpisode(epId, audioUrl, titleText){
    const tpl = document.getElementById(epId);
    if (!tpl) return;

    currentEpId = epId;
    setActiveButton(epId);

    titleEl.style.display = 'block';
    titleEl.textContent = titleText;

    contentEl.innerHTML = tpl.innerHTML;

    // 오디오는 연결만(재생은 버튼 클릭에서만)
    audio.pause();
    audio.currentTime = 0;
    audio.src = audioUrl;
    audio.load();

    playBtn.disabled = false;
    stopBtn.disabled = false;
    seek.disabled = false;

    trackTitle.textContent = titleText;
    seek.value = 0;
    cur.textContent = "00:00";
    dur.textContent = "00:00";
    playBtn.innerHTML = "<span>🔊</span> 재생";

    window.scrollTo({ top: 0, behavior: "smooth" });
  }

  // ✅ 이벤트 위임: 버튼이 많아져도 안전
  toc.addEventListener('click', (e) => {
    const btn = e.target.closest('.ep-btn');
    if (!btn) return;
    openEpisode(btn.dataset.ep, btn.dataset.audio, btn.innerText.trim());
  });

  playBtn.addEventListener('click', async () => {
    if (!currentEpId) return;

    if (!audio.paused) {
      audio.pause();
      playBtn.innerHTML = "<span>🔊</span> 재생";
      return;
    }
    try{
      await audio.play(); // 사용자 클릭 안에서만
      playBtn.innerHTML = "<span>⏸</span> 일시정지";
    }catch(err){
      console.error(err);
      playBtn.innerHTML = "<span>🔊</span> 재생";
      alert("재생이 막혔습니다. Drive 링크가 스트리밍에 불안정할 수 있습니다. (mp3를 GitHub에 같이 올리면 거의 해결됩니다)");
    }
  });

  stopBtn.addEventListener('click', () => {
    audio.pause();
    audio.currentTime = 0;
    playBtn.innerHTML = "<span>🔊</span> 재생";
  });

  audio.addEventListener('loadedmetadata', () => dur.textContent = fmt(audio.duration));
  audio.addEventListener('timeupdate', () => {
    if (!userSeeking && isFinite(audio.duration) && audio.duration > 0) {
      seek.value = Math.floor((audio.currentTime / audio.duration) * 1000);
    }
    cur.textContent = fmt(audio.currentTime);
  });
  audio.addEventListener('ended', () => playBtn.innerHTML = "<span>🔊</span> 재생");

  seek.addEventListener('input', () => userSeeking = true);
  seek.addEventListener('change', () => {
    if (!isFinite(audio.duration) || audio.duration <= 0) return;
    audio.currentTime = (Number(seek.value) / 1000) * audio.duration;
    userSeeking = false;
  });
})();
</script>
</body>
</html>
